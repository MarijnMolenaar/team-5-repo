const humansection = document.querySelector(".profile-human"),
    animalsection = document.querySelector(".profile-animal");

function HumanProfile() {
    humansection.style.display = "block", animalsection.style.display = "none", document.querySelector(".humanbutton > img").classList.add("activebutton"), document.querySelector(".animalbutton > img").classList.remove("activebutton")
}

function AnimalProfile() {
    humansection.style.display = "none", animalsection.style.display = "block", document.querySelector(".animalbutton > img").classList.add("activebutton"), document.querySelector(".humanbutton > img").classList.remove("activebutton")
}
window.addEventListener("load", e => {
    HumanProfile(), e.preventDefault()
}, !1), document.querySelector(".humanbutton").addEventListener("click", e => {
    HumanProfile(), e.preventDefault()
}, !1), document.querySelector(".animalbutton").addEventListener("click", e => {
    AnimalProfile(), e.preventDefault()
}, !1), document.getElementById("discoverpage").classList.add("active");
const divhumanedit = document.querySelector(".HumanProfileEdit"),
    divanimaledit = document.querySelector(".AnimalProfileEdit");

function HumanProfileEdit() {
    divhumanedit.style.display = "block", divanimaledit.style.display = "none", document.querySelector(".hprofe > img").classList.add("activebutton"), document.querySelector(".aprofe > img").classList.remove("activebutton")
}

function AnimalProfileEdit() {
    divhumanedit.style.display = "none", divanimaledit.style.display = "block", document.querySelector(".hprofe > img").classList.add("activebutton"), document.querySelector(".aprofe > img").classList.remove("activebutton")
}
HumanProfileEdit(), document.querySelector(".hprofe").addEventListener("click", e => {
    HumanProfileEdit(), e.preventDefault()
}, !1), document.querySelector(".aprofe").addEventListener("click", e => {
    AnimalProfileEdit(), e.preventDefault()
}, !1), document.addEventListener("DOMContentLoaded", () => {
    const n = document.getElementById("country");
    fetch("https://restcountries.com/v2/all").then(e => e.json()).then(e => {
        let t = "";
        e.forEach(e => {
            t += `<option>${e.name}</option>`
        }), n.innerHTML = t
    }).catch(e => {
        console.log(e)
    })
});
const selectedCountry = localStorage.getItem("selectedCountry"),
    array = (document.getElementById("country").value = selectedCountry, localStorage.getItem("myArray")),
    interestarray = JSON.parse(array),
    interests = ["Travel", "Dogs", "Cooking", "Surfing", "Politics", "Cats", "Fitness", "Reading", "Netflix", "Partying"];
interests.forEach(e => {
    1 == interestarray.includes(e) ? document.getElementById(e).checked = !0 : document.getElementById(e).checked = !1
}), document.getElementById("profilepage").classList.add("active");
document.addEventListener("DOMContentLoaded", () => {
    const n = document.getElementById("country_filter");
    fetch("https://restcountries.com/v2/all").then(e => e.json()).then(e => {
        let t = "";
        e.forEach(e => {
            t += `<option>${e.name}</option>`
        }), n.innerHTML = t
    }).catch(e => {
        console.log(e)
    })
}), document.getElementById("discoverpage").classList.add("active");
const h2check = document.getElementById("h2check"),
    homebutton = document.getElementById("homemessage");
homebutton.addEventListener("click", () => {
    window.location.href = "profile"
}), document.getElementById("homepage").classList.add("active");
const humansection = document.querySelector(".profile-human"),
    animalsection = document.querySelector(".profile-animal");

function HumanProfile() {
    humansection.style.display = "block", animalsection.style.display = "none", document.querySelector(".humanbutton > img").classList.add("activebutton"), document.querySelector(".animalbutton > img").classList.remove("activebutton")
}

function AnimalProfile() {
    humansection.style.display = "none", animalsection.style.display = "block", document.querySelector(".animalbutton > img").classList.add("activebutton"), document.querySelector(".humanbutton > img").classList.remove("activebutton")
}
window.addEventListener("load", e => {
    HumanProfile(), e.preventDefault()
}, !1), document.querySelector(".humanbutton").addEventListener("click", e => {
    HumanProfile(), e.preventDefault()
}, !1), document.querySelector(".animalbutton").addEventListener("click", e => {
    AnimalProfile(), e.preventDefault()
}, !1), document.getElementById("likespage").classList.add("active");
document.getElementById("likespage").classList.add("active");
const human = document.querySelector(".HumanProfile"),
    animal = document.querySelector(".AnimalProfile");

function HumanProfile() {
    human.style.display = "block", animal.style.display = "none", document.querySelector(".hprofe > img").classList.add("activebutton"), document.querySelector(".aprofe > img").classList.remove("activebutton")
}

function AnimalProfile() {
    human.style.display = "none", animal.style.display = "block", document.querySelector(".hprofe > img").classList.add("activebutton"), document.querySelector(".aprofe > img").classList.remove("activebutton")
}
HumanProfile(), document.querySelector(".hprofe").addEventListener("click", e => {
    HumanProfile(), e.preventDefault()
}, !1), document.querySelector(".aprofe").addEventListener("click", e => {
    AnimalProfile(), e.preventDefault()
}, !1);
const loadFile = function (e) {
    const t = document.getElementById("previewphoto");
    t.src = URL.createObjectURL(e.target.files[0])
};
document.addEventListener("DOMContentLoaded", () => {
    const o = document.getElementById("country");
    fetch("https://restcountries.com/v2/all").then(e => e.json()).then(e => {
        let t = "";
        e.forEach(e => {
            t += `<option>${e.name}</option>`
        }), o.innerHTML = t
    }).catch(e => {
        console.log(e)
    })
});
const humansection = document.querySelector(".profile-human"),
    animalsection = document.querySelector(".profile-animal");

function HumanProfile() {
    humansection.style.display = "block", animalsection.style.display = "none", document.querySelector(".humanbutton > img").classList.add("activebutton"), document.querySelector(".animalbutton > img").classList.remove("activebutton")
}

function AnimalProfile() {
    humansection.style.display = "none", animalsection.style.display = "block", document.querySelector(".animalbutton > img").classList.add("activebutton"), document.querySelector(".humanbutton > img").classList.remove("activebutton")
}
window.addEventListener("load", e => {
    HumanProfile(), e.preventDefault()
}, !1), document.querySelector(".humanbutton").addEventListener("click", e => {
    HumanProfile(), e.preventDefault()
}, !1), document.querySelector(".animalbutton").addEventListener("click", e => {
    AnimalProfile(), e.preventDefault()
}, !1);
const selectedCountry = document.querySelector(".profile-human p:first-of-type").innerText,
    ul = (localStorage.setItem("selectedCountry", selectedCountry), document.querySelector(".profile-human ul")),
    children = ul.children;
let interestarray = [];
Array.from(children).forEach(e => {
    interestarray.push(e.innerText)
}), localStorage.setItem("myArray", JSON.stringify(interestarray)), document.getElementById("profilepage").classList.add("active");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc2NvdmVyc2NyaXB0LmpzIiwiZWRpdHNjcmlwdC5qcyIsImZpbHRlcnNjcmlwdC5qcyIsImhvbWVzY3JpcHQuanMiLCJsaWtlZHByb2ZpbGVzY3JpcHQuanMiLCJsaWtlc3NjcmlwdC5qcyIsIm1ha2VzY3JpcHQuanMiLCJwcm9maWxlc2NyaXB0LmpzIl0sIm5hbWVzIjpbImh1bWFuc2VjdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFuaW1hbHNlY3Rpb24iLCJIdW1hblByb2ZpbGUiLCJzdHlsZSIsImRpc3BsYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJBbmltYWxQcm9maWxlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImdldEVsZW1lbnRCeUlkIiwiZGl2aHVtYW5lZGl0IiwiZGl2YW5pbWFsZWRpdCIsIkh1bWFuUHJvZmlsZUVkaXQiLCJBbmltYWxQcm9maWxlRWRpdCIsIkNvdW50cnlEcm9wZG93biIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJjb3VudHJpZXMiLCJsZXQiLCJvdXRwdXQiLCJmb3JFYWNoIiwiY291bnRyeSIsIm5hbWUiLCJpbm5lckhUTUwiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzZWxlY3RlZENvdW50cnkiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYXJyYXkiLCJ2YWx1ZSIsImludGVyZXN0YXJyYXkiLCJKU09OIiwicGFyc2UiLCJpbnRlcmVzdHMiLCJpbmNsdWRlcyIsImkiLCJjaGVja2VkIiwidCIsIm4iLCJoMmNoZWNrIiwiaG9tZWJ1dHRvbiIsImxvY2F0aW9uIiwiaHJlZiIsImh1bWFuIiwiYW5pbWFsIiwibG9hZEZpbGUiLCJldmVudCIsImltYWdlIiwic3JjIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwidGFyZ2V0IiwiZmlsZXMiLCJpbm5lclRleHQiLCJ1bCIsInNldEl0ZW0iLCJjaGlsZHJlbiIsIkFycmF5IiwiZnJvbSIsImxpIiwicHVzaCIsInN0cmluZ2lmeSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsYUFBZUMsU0FBU0MsY0FBYyxrQkFDdENDLGNBQWdCRixTQUFTQyxjQUFjLG1CQXFCN0MsU0FBU0UsZUFDTEosYUFBYUssTUFBTUMsUUFBVSxRQUM3QkgsY0FBY0UsTUFBTUMsUUFBVSxPQUM5QkwsU0FBU0MsY0FBYyxzQkFBc0JLLFVBQVVDLElBQUksZ0JBQzNEUCxTQUFTQyxjQUFjLHVCQUF1QkssVUFBVUUsT0FBTyxnQkFJbkUsU0FBU0MsZ0JBQ0xWLGFBQWFLLE1BQU1DLFFBQVUsT0FDN0JILGNBQWNFLE1BQU1DLFFBQVUsUUFDOUJMLFNBQVNDLGNBQWMsdUJBQXVCSyxVQUFVQyxJQUFJLGdCQUM1RFAsU0FBU0MsY0FBYyxzQkFBc0JLLFVBQVVFLE9BQU8sZ0JBOUJsRUUsT0FBT0MsaUJBQWlCLE9BQVEsSUFDNUJSLGVBQ0FTLEVBQUVDLG1CQUNILEdBR0hiLFNBQVNDLGNBQWMsZ0JBQWdCVSxpQkFBaUIsUUFBUyxJQUM3RFIsZUFDQVMsRUFBRUMsbUJBQ0gsR0FHSGIsU0FBU0MsY0FBYyxpQkFBaUJVLGlCQUFpQixRQUFTLElBQzlERixnQkFDQUcsRUFBRUMsbUJBQ0gsR0FrQkhiLFNBQVNjLGVBQWUsZ0JBQWdCUixVQUFVQyxJQUFJO0FDckN0RCxNQUFNUSxhQUFlZixTQUFTQyxjQUFjLHFCQUN0Q2UsY0FBZ0JoQixTQUFTQyxjQUFjLHNCQWtCN0MsU0FBU2dCLG1CQUNMRixhQUFhWCxNQUFNQyxRQUFVLFFBQzdCVyxjQUFjWixNQUFNQyxRQUFVLE9BQzlCTCxTQUFTQyxjQUFjLGlCQUFpQkssVUFBVUMsSUFBSSxnQkFDdERQLFNBQVNDLGNBQWMsaUJBQWlCSyxVQUFVRSxPQUFPLGdCQUc3RCxTQUFTVSxvQkFDTEgsYUFBYVgsTUFBTUMsUUFBVSxPQUM3QlcsY0FBY1osTUFBTUMsUUFBVSxRQUM5QkwsU0FBU0MsY0FBYyxpQkFBaUJLLFVBQVVDLElBQUksZ0JBQ3REUCxTQUFTQyxjQUFjLGlCQUFpQkssVUFBVUUsT0FBTyxnQkExQjdEUyxtQkFHQWpCLFNBQVNDLGNBQWMsV0FBV1UsaUJBQWlCLFFBQVMsSUFDeERNLG1CQUNBTCxFQUFFQyxtQkFDSCxHQUdIYixTQUFTQyxjQUFjLFdBQVdVLGlCQUFpQixRQUFTLElBQ3hETyxvQkFDQU4sRUFBRUMsbUJBQ0gsR0FvQkhiLFNBQVNXLGlCQUFpQixtQkFBb0IsS0FDMUMsTUFBTVEsRUFBa0JuQixTQUFTYyxlQUFlLFdBRWhETSxNQUFNLG9DQUFvQ0MsS0FBS0MsR0FDcENBLEVBQUlDLFFBQ1pGLEtBQUtHLElBQ0pDLElBQUlDLEVBQVMsR0FHYkYsRUFBVUcsUUFBUUMsSUFDZEYsY0FBcUJFLEVBQVFDLGtCQUlqQ1YsRUFBZ0JXLFVBQVlKLElBQzdCSyxNQUFNQyxJQUVMQyxRQUFRQyxJQUFJRixPQU1wQixNQUFNRyxnQkFBa0JDLGFBQWFDLFFBQVEsbUJBS3ZDQyxPQUpOdEMsU0FBU2MsZUFBZSxXQUFXeUIsTUFBUUosZ0JBSTdCQyxhQUFhQyxRQUFRLFlBQzdCRyxjQUFnQkMsS0FBS0MsTUFBTUosT0FLM0JLLFVBQVksQ0FBQyxTQUFVLE9BQVEsVUFBVyxVQUFXLFdBQVksT0FBUSxVQUFXLFVBQVcsVUFBVyxZQUloSEEsVUFBVWhCLFFBQVEsSUFDbUIsR0FBN0JhLGNBQWNJLFNBQVNDLEdBQzNCN0MsU0FBU2MsZUFBZStCLEdBQUdDLFNBQVUsRUFFckM5QyxTQUFTYyxlQUFlK0IsR0FBR0MsU0FBVSxJQU16QzlDLFNBQVNjLGVBQWUsZUFBZVIsVUFBVUMsSUFBSTtBQ3BGckRQLFNBQVNXLGlCQUFpQixtQkFBbUIsS0FBTSxNQUFNQyxFQUFFWixTQUFTYyxlQUFlLGtCQUFrQk0sTUFBTSxvQ0FBb0NDLEtBQU1ULEdBQUdBLEVBQUVXLFFBQVNGLEtBQU0wQixJQUFJdEIsSUFBSXVCLEVBQUUsR0FBR0QsRUFBRXBCLFFBQVNmLElBQUlvQyxjQUFjcEMsRUFBRWlCLGtCQUFtQmpCLEVBQUVrQixVQUFVa0IsSUFBS2pCLE1BQU9uQixJQUFJcUIsUUFBUUMsSUFBSXRCLE9BQVNaLFNBQVNjLGVBQWUsZ0JBQWdCUixVQUFVQyxJQUFJO0FDQS9VLE1BQU0wQyxRQUFRakQsU0FBU2MsZUFBZSxXQUFXb0MsV0FBV2xELFNBQVNjLGVBQWUsZUFBZW9DLFdBQVd2QyxpQkFBaUIsUUFBUSxLQUFNRCxPQUFPeUMsU0FBU0MsS0FBSyxZQUFhcEQsU0FBU2MsZUFBZSxZQUFZUixVQUFVQyxJQUFJO0FDQWpPLE1BQU1SLGFBQWVDLFNBQVNDLGNBQWMsa0JBQ3RDQyxjQUFnQkYsU0FBU0MsY0FBYyxtQkFxQjdDLFNBQVNFLGVBQ0xKLGFBQWFLLE1BQU1DLFFBQVUsUUFDN0JILGNBQWNFLE1BQU1DLFFBQVUsT0FDOUJMLFNBQVNDLGNBQWMsc0JBQXNCSyxVQUFVQyxJQUFJLGdCQUMzRFAsU0FBU0MsY0FBYyx1QkFBdUJLLFVBQVVFLE9BQU8sZ0JBSW5FLFNBQVNDLGdCQUNMVixhQUFhSyxNQUFNQyxRQUFVLE9BQzdCSCxjQUFjRSxNQUFNQyxRQUFVLFFBQzlCTCxTQUFTQyxjQUFjLHVCQUF1QkssVUFBVUMsSUFBSSxnQkFDNURQLFNBQVNDLGNBQWMsc0JBQXNCSyxVQUFVRSxPQUFPLGdCQTlCbEVFLE9BQU9DLGlCQUFpQixPQUFRLElBQzVCUixlQUNBUyxFQUFFQyxtQkFDSCxHQUdIYixTQUFTQyxjQUFjLGdCQUFnQlUsaUJBQWlCLFFBQVMsSUFDN0RSLGVBQ0FTLEVBQUVDLG1CQUNILEdBR0hiLFNBQVNDLGNBQWMsaUJBQWlCVSxpQkFBaUIsUUFBUyxJQUM5REYsZ0JBQ0FHLEVBQUVDLG1CQUNILEdBa0JIYixTQUFTYyxlQUFlLGFBQWFSLFVBQVVDLElBQUk7QUNyQ25EUCxTQUFTYyxlQUFlLGFBQWFSLFVBQVVDLElBQUk7QUNBbkQsTUFBTThDLE1BQVFyRCxTQUFTQyxjQUFjLGlCQUMvQnFELE9BQVN0RCxTQUFTQyxjQUFjLGtCQWtCdEMsU0FBU0UsZUFDTGtELE1BQU1qRCxNQUFNQyxRQUFVLFFBQ3RCaUQsT0FBT2xELE1BQU1DLFFBQVUsT0FDdkJMLFNBQVNDLGNBQWMsaUJBQWlCSyxVQUFVQyxJQUFJLGdCQUN0RFAsU0FBU0MsY0FBYyxpQkFBaUJLLFVBQVVFLE9BQU8sZ0JBSTdELFNBQVNDLGdCQUNMNEMsTUFBTWpELE1BQU1DLFFBQVUsT0FDdEJpRCxPQUFPbEQsTUFBTUMsUUFBVSxRQUN2QkwsU0FBU0MsY0FBYyxpQkFBaUJLLFVBQVVDLElBQUksZ0JBQ3REUCxTQUFTQyxjQUFjLGlCQUFpQkssVUFBVUUsT0FBTyxnQkEzQjdETCxlQUdBSCxTQUFTQyxjQUFjLFdBQVdVLGlCQUFpQixRQUFTLElBQ3hEUixlQUNBUyxFQUFFQyxtQkFDSCxHQUdIYixTQUFTQyxjQUFjLFdBQVdVLGlCQUFpQixRQUFTLElBQ3hERixnQkFDQUcsRUFBRUMsbUJBQ0gsR0FvQkgsTUFBTTBDLFNBQVcsU0FBU0MsR0FDekIsTUFBTUMsRUFBUXpELFNBQVNjLGVBQWUsZ0JBQ3RDMkMsRUFBTUMsSUFBTUMsSUFBSUMsZ0JBQWdCSixFQUFNSyxPQUFPQyxNQUFNLEtBTXBEOUQsU0FBU1csaUJBQWlCLG1CQUFvQixLQUMxQyxNQUFNUSxFQUFrQm5CLFNBQVNjLGVBQWUsV0FFaERNLE1BQU0sb0NBQW9DQyxLQUFLQyxHQUNwQ0EsRUFBSUMsUUFDWkYsS0FBS0csSUFDSkMsSUFBSUMsRUFBUyxHQUdiRixFQUFVRyxRQUFRQyxJQUNkRixjQUFxQkUsRUFBUUMsa0JBSWpDVixFQUFnQlcsVUFBWUosSUFDN0JLLE1BQU1DLElBRUxDLFFBQVFDLElBQUlGO0FDN0RwQixNQUFNakMsYUFBZUMsU0FBU0MsY0FBYyxrQkFDdENDLGNBQWdCRixTQUFTQyxjQUFjLG1CQXFCN0MsU0FBU0UsZUFDTEosYUFBYUssTUFBTUMsUUFBVSxRQUM3QkgsY0FBY0UsTUFBTUMsUUFBVSxPQUM5QkwsU0FBU0MsY0FBYyxzQkFBc0JLLFVBQVVDLElBQUksZ0JBQzNEUCxTQUFTQyxjQUFjLHVCQUF1QkssVUFBVUUsT0FBTyxnQkFJbkUsU0FBU0MsZ0JBQ0xWLGFBQWFLLE1BQU1DLFFBQVUsT0FDN0JILGNBQWNFLE1BQU1DLFFBQVUsUUFDOUJMLFNBQVNDLGNBQWMsdUJBQXVCSyxVQUFVQyxJQUFJLGdCQUM1RFAsU0FBU0MsY0FBYyxzQkFBc0JLLFVBQVVFLE9BQU8sZ0JBOUJsRUUsT0FBT0MsaUJBQWlCLE9BQVEsSUFDNUJSLGVBQ0FTLEVBQUVDLG1CQUNILEdBR0hiLFNBQVNDLGNBQWMsZ0JBQWdCVSxpQkFBaUIsUUFBUyxJQUM3RFIsZUFDQVMsRUFBRUMsbUJBQ0gsR0FHSGIsU0FBU0MsY0FBYyxpQkFBaUJVLGlCQUFpQixRQUFTLElBQzlERixnQkFDQUcsRUFBRUMsbUJBQ0gsR0FtQkgsTUFBTXNCLGdCQUFrQm5DLFNBQVNDLGNBQWMsa0NBQWtDOEQsVUFLM0VDLElBSk41QixhQUFhNkIsUUFBUSxrQkFBbUI5QixpQkFJN0JuQyxTQUFTQyxjQUFjLHNCQUM1QmlFLFNBQVdGLEdBQUdFLFNBQ3BCekMsSUFBSWUsY0FBZ0IsR0FJcEIyQixNQUFNQyxLQUFLRixVQUFVdkMsUUFBUTBDLElBQ3pCN0IsY0FBYzhCLEtBQUtELEVBQUdOLGFBSzFCM0IsYUFBYTZCLFFBQVEsVUFBV3hCLEtBQUs4QixVQUFVL0IsZ0JBRy9DeEMsU0FBU2MsZUFBZSxlQUFlUixVQUFVQyxJQUFJIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh1bWFuc2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1odW1hblwiKTtcclxuY29uc3QgYW5pbWFsc2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1hbmltYWxcIik7XHJcblxyXG4vLyBEZSBmdW5jdGllIHZhbiBoZXQgbWVuc2VsaWprZSBwcm9maWVsIHdvcmR0IHVpdGdldm9lcmQgYmlqIGhldCBvcHN0YXJ0ZW4gdmFuIGRlIHBhZ2luYSwgYWFuZ2V6aWVuIGRlemUgbGF0ZW4gemllbiBtb2V0IHdvcmRlblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKGUpID0+IHtcclxuICAgIEh1bWFuUHJvZmlsZSgpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59LCBmYWxzZSk7XHJcblxyXG4vLyBCaWogaGV0IGtsaWtrZW4gdmFuIGRlICdodW1hbicga25vcCB3b3JkdCBkZSBiaWpiZWhvcmVuZGUgZnVuY3RpZSB1aXRnZXZvZXJkXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaHVtYW5idXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBIdW1hblByb2ZpbGUoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxufSwgZmFsc2UpO1xyXG5cclxuLy8gQmlqIGhldCBrbGlra2VuIHZhbiBkZSAnaHVtYW4nIGtub3Agd29yZHQgZGUgYmlqYmVob3JlbmRlIGZ1bmN0aWUgdWl0Z2V2b2VyZFxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFuaW1hbGJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIEFuaW1hbFByb2ZpbGUoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxufSwgZmFsc2UpO1xyXG5cclxuLy8gQmlubmVuIGRlemUgZnVuY3RpZSB3b3JkdCBoZXQgbWVuc2VsaWprZSBwcm9maWVsIHdlZXJnZWdldmVuIGVuIHdvcmR0IGhldCBkaWVyZW4gcHJvZmllbCB2ZXJib3JnZW4gZG9vciBkZSBkaXNwbGF5LXN0eWxlIG5hYXIgbm9uZSB0ZSB2ZXJhbmRlcmVuXHJcbmZ1bmN0aW9uIEh1bWFuUHJvZmlsZSgpIHtcclxuICAgIGh1bWFuc2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgYW5pbWFsc2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmh1bWFuYnV0dG9uID4gaW1nXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVidXR0b25cIik7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFuaW1hbGJ1dHRvbiA+IGltZ1wiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlYnV0dG9uXCIpO1xyXG59XHJcblxyXG4vLyBIaWVyIGdlYmV1cnQgZGl0IG9vaywgbWFhciBkYW4gdmljZSB2ZXJzYVxyXG5mdW5jdGlvbiBBbmltYWxQcm9maWxlKCkge1xyXG4gICAgaHVtYW5zZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGFuaW1hbHNlY3Rpb24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYW5pbWFsYnV0dG9uID4gaW1nXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVidXR0b25cIik7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmh1bWFuYnV0dG9uID4gaW1nXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVidXR0b25cIik7XHJcbn1cclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlzY292ZXJwYWdlXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7IiwiY29uc3QgZGl2aHVtYW5lZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5IdW1hblByb2ZpbGVFZGl0XCIpO1xyXG5jb25zdCBkaXZhbmltYWxlZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5BbmltYWxQcm9maWxlRWRpdFwiKTtcclxuXHJcbi8vIERlIGZ1bmN0aWUgdmFuIGhldCBtZW5zZWxpamtlIHByb2ZpZWwgd29yZHQgdWl0Z2V2b2VyZCBiaWogaGV0IG9wc3RhcnRlbiB2YW4gZGUgcGFnaW5hLCBhYW5nZXppZW4gZGV6ZSBsYXRlbiB6aWVuIG1vZXQgd29yZGVuXHJcbkh1bWFuUHJvZmlsZUVkaXQoKTtcclxuXHJcbi8vIEJpbm5lbiBkZXplIGZ1bmN0aWUgd29yZHQgaGV0IG1lbnNlbGlqa2UgcHJvZmllbCB3ZWVyZ2VnZXZlbiBlbiB3b3JkdCBoZXQgZGllcmVuIHByb2ZpZWwgdmVyYm9yZ2VuIGRvb3IgZGUgZGlzcGxheS1zdHlsZSBuYWFyIG5vbmUgdGUgdmVyYW5kZXJlblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhwcm9mZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIEh1bWFuUHJvZmlsZUVkaXQoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxufSwgZmFsc2UpO1xyXG5cclxuLy8gQmlqIGhldCBrbGlra2VuIHZhbiBkZSAnaHVtYW4nIGtub3Agd29yZHQgZGUgYmlqYmVob3JlbmRlIGZ1bmN0aWUgdWl0Z2V2b2VyZFxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFwcm9mZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIEFuaW1hbFByb2ZpbGVFZGl0KCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbn0sIGZhbHNlKTtcclxuXHJcbi8vIEJpbm5lbiBkZXplIGZ1bmN0aWUgd29yZHQgaGV0IG1lbnNlbGlqa2UgcHJvZmllbCB3ZWVyZ2VnZXZlbiBlbiB3b3JkdCBoZXQgZGllcmVuIHByb2ZpZWwgdmVyYm9yZ2VuIGRvb3IgZGUgZGlzcGxheS1zdHlsZSBuYWFyIG5vbmUgdGUgdmVyYW5kZXJlblxyXG5mdW5jdGlvbiBIdW1hblByb2ZpbGVFZGl0KCkge1xyXG4gICAgZGl2aHVtYW5lZGl0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBkaXZhbmltYWxlZGl0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaHByb2ZlID4gaW1nXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVidXR0b25cIik7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFwcm9mZSA+IGltZ1wiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlYnV0dG9uXCIpO1xyXG59XHJcbi8vIEhpZXIgZ2ViZXVydCBkaXQgb29rLCBtYWFyIGRhbiB2aWNlIHZlcnNhXHJcbmZ1bmN0aW9uIEFuaW1hbFByb2ZpbGVFZGl0KCkge1xyXG4gICAgZGl2aHVtYW5lZGl0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRpdmFuaW1hbGVkaXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaHByb2ZlID4gaW1nXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVidXR0b25cIik7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFwcm9mZSA+IGltZ1wiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlYnV0dG9uXCIpO1xyXG59XHJcblxyXG5cclxuXHJcbi8vIERlICdSRVNUIENvdW50cmllcycgQVBJIHdvcmR0IGluZ2VsYWRlbiBpbiBoZXQgZG9jdW1lbnRcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IENvdW50cnlEcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudHJ5Jyk7XHJcblxyXG4gICAgZmV0Y2goJ2h0dHBzOi8vcmVzdGNvdW50cmllcy5jb20vdjIvYWxsJykudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfSkudGhlbihjb3VudHJpZXMgPT4ge1xyXG4gICAgICAgIGxldCBvdXRwdXQgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyBFciB3b3JkdCBkb29yIGVsayBsYW5kIGluIGRlIEFQSSBoZWVuICdnZWxvb3B0Jywgd2Fhcm1lZSBlbGtlIG5hYW0gdmFuIGhldCBsYW5kIHVpdCBoZXQgb2JqZWN0IGdlaGFhbGQgd29yZHQgZW4gd29yZHQgdG9lZ2V2b2VnZCBhYW4gZWVuIG91dHB1dCB2YXJpYWJlbGVcclxuICAgICAgICBjb3VudHJpZXMuZm9yRWFjaChjb3VudHJ5ID0+IHtcclxuICAgICAgICAgICAgb3V0cHV0ICs9IGA8b3B0aW9uPiR7Y291bnRyeS5uYW1lfTwvb3B0aW9uPmA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFZlcnZvbGdlbnMgd29yZHQgZGV6ZSBvdXRwdXQgdG9lZ2V2b2VnZCBhYW4gaGV0IHNlbGVjdCBlbGVtZW50LCB3ZWxrZSBlZXJkZXIgdWl0IGRlIEVKUyBwYWdpbmEgaXMgb3BnZWhhYWxkXHJcbiAgICAgICAgQ291bnRyeURyb3Bkb3duLmlubmVySFRNTCA9IG91dHB1dDtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgLy8gQmlqIHNwcmFrZSB2YW4gZWVuIGVycm9yIHdvcmR0IGRlemUgZXJyb3IgbmFhciBkZSBjb25zb2xlIGdlbG9nZFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG59KTtcclxuLy8gQnJvbiBnZWJydWlrdDogaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1pdzRsdlpHQnV2QSZhYl9jaGFubmVsPU9zdG9uQ29kZUN5cGhlclxyXG5cclxuLy8gSGV0IGVlcmRlciBnZXNlbGVjdGVlcmRlIGVuIGluIGRlIGxvY2FsU3RvcmFnZSBvcGdlc2xhZ2VuIGxhbmQgd29yZHQgdWl0IGRlIGxvY2FsU3RvcmFnZSBnZWhhYWxkLCBlbiB2ZXJ2b2xnZW5zIGFscyB2YWx1ZSBpbmdlc3RlbGQgYmlubmVuIGRlIGRyb3Bkb3duXHJcbmNvbnN0IHNlbGVjdGVkQ291bnRyeSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZENvdW50cnknKTtcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50cnknKS52YWx1ZSA9IHNlbGVjdGVkQ291bnRyeTtcclxuXHJcblxyXG4vLyBEZSBlZXJkZXIgb3BnZXNsYWdlbiBhcnJheSB3b3JkdCB1aXQgZGUgbG9jYWxTdG9yYWdlIGdlaGFhbGQsIGVuIG1ldCBlZW4gSlNPTiBmdW5jdGllIGhlcnNjaHJldmVuIG5hYXIgZWVuIGZ1bmN0aW9uZWxlIGFycmF5XHJcbmNvbnN0IGFycmF5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ215QXJyYXknKTtcclxuY29uc3QgaW50ZXJlc3RhcnJheSA9IEpTT04ucGFyc2UoYXJyYXkpO1xyXG5cclxuLy8gQnJvbiBnZWJydWlrdDogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbnJvamFzMTMvNjhiNzllMjFkMGM4MWFhMjJhZDc2MmM5YTRkYjM4ZDBcclxuXHJcbi8vIEVlbiBsaWpzdCBtZXQgYWxsZSBpbnRlcmVzdHMsIHpvYWxzIG9vayBhbCBnZWRlZmluaWVlcmQgaW4gZGUgYXBwLmpzIGZpbGVcclxuY29uc3QgaW50ZXJlc3RzID0gW1wiVHJhdmVsXCIsIFwiRG9nc1wiLCBcIkNvb2tpbmdcIiwgXCJTdXJmaW5nXCIsIFwiUG9saXRpY3NcIiwgXCJDYXRzXCIsIFwiRml0bmVzc1wiLCBcIlJlYWRpbmdcIiwgXCJOZXRmbGl4XCIsIFwiUGFydHlpbmdcIl07XHJcblxyXG4vLyBEZXplIGFycm93ZWQgZnVuY3RpZSBsb29wdCBkb29yIGFsbGUgaW50ZXJlc3NlcyBiaW5uZW4gZGUgYXJyYXkgaGVlbiwgZW4gY2hlY2t0IG9mIGRlemUgZWVyZGVyIGdlc2xlY3RlZXJkIHppam4gZG9vciBkZSBraWprZW4gb2YgZGV6ZSBhYW53ZXppZyB6aWpuIGluIGRlIHVpdCBkZVxyXG4vLyBsb2NhbFN0b3JhZ2UgZ2VoYWFsZGUgYXJyYXksIHdhbm5lZXIgZGl0IGhldCBnZXZhbCBpcyB3b3JkdCBoZXQgY2hlY2tlZCBlbGVtZW50IHZhbiBkZSBiZXRyZWZmZW5kZSBpbnRlcmVzc2Ugb3AgdHJ1ZSBnZXpldFxyXG5pbnRlcmVzdHMuZm9yRWFjaCgoaSkgPT4ge1xyXG4gICAgaWYgKGludGVyZXN0YXJyYXkuaW5jbHVkZXMoaSkgPT0gdHJ1ZSkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSkuY2hlY2tlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSkuY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEJyb24gZ2VicnVpa3Q6IGh0dHBzOi8vd3d3Lnczc2Nob29scy5jb20vanNyZWYvanNyZWZfaW5jbHVkZXNfYXJyYXkuYXNwXHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZpbGVwYWdlXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG5cclxuXHJcblxyXG4iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCgoKT0+e2NvbnN0IGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudHJ5X2ZpbHRlclwiKTtmZXRjaChcImh0dHBzOi8vcmVzdGNvdW50cmllcy5jb20vdjIvYWxsXCIpLnRoZW4oKGU9PmUuanNvbigpKSkudGhlbigodD0+e2xldCBuPVwiXCI7dC5mb3JFYWNoKChlPT57bis9YDxvcHRpb24+JHtlLm5hbWV9PC9vcHRpb24+YH0pKSxlLmlubmVySFRNTD1ufSkpLmNhdGNoKChlPT57Y29uc29sZS5sb2coZSl9KSl9KSksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXNjb3ZlcnBhZ2VcIikuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTsiLCJjb25zdCBoMmNoZWNrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaDJjaGVja1wiKSxob21lYnV0dG9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG9tZW1lc3NhZ2VcIik7aG9tZWJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoKCk9Pnt3aW5kb3cubG9jYXRpb24uaHJlZj1cInByb2ZpbGVcIn0pKSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvbWVwYWdlXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7IiwiY29uc3QgaHVtYW5zZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWh1bWFuXCIpO1xyXG5jb25zdCBhbmltYWxzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWFuaW1hbFwiKTtcclxuXHJcbi8vIERlIGZ1bmN0aWUgdmFuIGhldCBtZW5zZWxpamtlIHByb2ZpZWwgd29yZHQgdWl0Z2V2b2VyZCBiaWogaGV0IG9wc3RhcnRlbiB2YW4gZGUgcGFnaW5hLCBhYW5nZXppZW4gZGV6ZSBsYXRlbiB6aWVuIG1vZXQgd29yZGVuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoZSkgPT4ge1xyXG4gICAgSHVtYW5Qcm9maWxlKCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbn0sIGZhbHNlKTtcclxuXHJcbi8vIEJpaiBoZXQga2xpa2tlbiB2YW4gZGUgJ2h1bWFuJyBrbm9wIHdvcmR0IGRlIGJpamJlaG9yZW5kZSBmdW5jdGllIHVpdGdldm9lcmRcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5odW1hbmJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIEh1bWFuUHJvZmlsZSgpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59LCBmYWxzZSk7XHJcblxyXG4vLyBCaWogaGV0IGtsaWtrZW4gdmFuIGRlICdodW1hbicga25vcCB3b3JkdCBkZSBiaWpiZWhvcmVuZGUgZnVuY3RpZSB1aXRnZXZvZXJkXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYW5pbWFsYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgQW5pbWFsUHJvZmlsZSgpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59LCBmYWxzZSk7XHJcblxyXG4vLyBCaW5uZW4gZGV6ZSBmdW5jdGllIHdvcmR0IGhldCBtZW5zZWxpamtlIHByb2ZpZWwgd2VlcmdlZ2V2ZW4gZW4gd29yZHQgaGV0IGRpZXJlbiBwcm9maWVsIHZlcmJvcmdlbiBkb29yIGRlIGRpc3BsYXktc3R5bGUgbmFhciBub25lIHRlIHZlcmFuZGVyZW5cclxuZnVuY3Rpb24gSHVtYW5Qcm9maWxlKCkge1xyXG4gICAgaHVtYW5zZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBhbmltYWxzZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaHVtYW5idXR0b24gPiBpbWdcIikuY2xhc3NMaXN0LmFkZChcImFjdGl2ZWJ1dHRvblwiKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYW5pbWFsYnV0dG9uID4gaW1nXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVidXR0b25cIik7XHJcbn1cclxuXHJcbi8vIEhpZXIgZ2ViZXVydCBkaXQgb29rLCBtYWFyIGRhbiB2aWNlIHZlcnNhXHJcbmZ1bmN0aW9uIEFuaW1hbFByb2ZpbGUoKSB7XHJcbiAgICBodW1hbnNlY3Rpb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgYW5pbWFsc2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hbmltYWxidXR0b24gPiBpbWdcIikuY2xhc3NMaXN0LmFkZChcImFjdGl2ZWJ1dHRvblwiKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaHVtYW5idXR0b24gPiBpbWdcIikuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZWJ1dHRvblwiKTtcclxufVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaWtlc3BhZ2VcIikuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTsiLCJkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpa2VzcGFnZVwiKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4iLCJjb25zdCBodW1hbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuSHVtYW5Qcm9maWxlXCIpO1xyXG5jb25zdCBhbmltYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkFuaW1hbFByb2ZpbGVcIik7XHJcblxyXG4vLyBEZSBmdW5jdGllIHZhbiBoZXQgbWVuc2VsaWprZSBwcm9maWVsIHdvcmR0IHVpdGdldm9lcmQgYmlqIGhldCBvcHN0YXJ0ZW4gdmFuIGRlIHBhZ2luYSwgYWFuZ2V6aWVuIGRlemUgbGF0ZW4gemllbiBtb2V0IHdvcmRlblxyXG5IdW1hblByb2ZpbGUoKTtcclxuXHJcbi8vIEJpbm5lbiBkZXplIGZ1bmN0aWUgd29yZHQgaGV0IG1lbnNlbGlqa2UgcHJvZmllbCB3ZWVyZ2VnZXZlbiBlbiB3b3JkdCBoZXQgZGllcmVuIHByb2ZpZWwgdmVyYm9yZ2VuIGRvb3IgZGUgZGlzcGxheS1zdHlsZSBuYWFyIG5vbmUgdGUgdmVyYW5kZXJlblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhwcm9mZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIEh1bWFuUHJvZmlsZSgpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59LCBmYWxzZSk7XHJcblxyXG4vLyBCaWogaGV0IGtsaWtrZW4gdmFuIGRlICdodW1hbicga25vcCB3b3JkdCBkZSBiaWpiZWhvcmVuZGUgZnVuY3RpZSB1aXRnZXZvZXJkXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXByb2ZlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgQW5pbWFsUHJvZmlsZSgpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59LCBmYWxzZSk7XHJcblxyXG4vLyBCaW5uZW4gZGV6ZSBmdW5jdGllIHdvcmR0IGhldCBtZW5zZWxpamtlIHByb2ZpZWwgd2VlcmdlZ2V2ZW4gZW4gd29yZHQgaGV0IGRpZXJlbiBwcm9maWVsIHZlcmJvcmdlbiBkb29yIGRlIGRpc3BsYXktc3R5bGUgbmFhciBub25lIHRlIHZlcmFuZGVyZW5cclxuZnVuY3Rpb24gSHVtYW5Qcm9maWxlKCkge1xyXG4gICAgaHVtYW4uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGFuaW1hbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhwcm9mZSA+IGltZ1wiKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlYnV0dG9uXCIpO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcHJvZmUgPiBpbWdcIikuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZWJ1dHRvblwiKTtcclxufVxyXG5cclxuLy8gSGllciBnZWJldXJ0IGRpdCBvb2ssIG1hYXIgZGFuIHZpY2UgdmVyc2FcclxuZnVuY3Rpb24gQW5pbWFsUHJvZmlsZSgpIHtcclxuICAgIGh1bWFuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGFuaW1hbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ocHJvZmUgPiBpbWdcIikuY2xhc3NMaXN0LmFkZChcImFjdGl2ZWJ1dHRvblwiKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXByb2ZlID4gaW1nXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVidXR0b25cIik7XHJcblxyXG59XHJcblxyXG4vLyBCaWogaGV0IHVwbG9hZGVuIHZhbiBlZW4gZm90byB3b3JkdCBkZXplIGZ1bmN0aWUgdWl0Z2V2b2VyZCwgd2Fhcm1lZSBkZSBnZcO8cGxvYWRlIGZvdG8gZ2VsaWprIGVyb25kZXIgd2VlcmdlZ2V2ZW4gd29yZHRcclxuY29uc3QgbG9hZEZpbGUgPSBmdW5jdGlvbihldmVudCkge1xyXG5cdGNvbnN0IGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXdwaG90bycpO1xyXG5cdGltYWdlLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTtcclxufTtcclxuXHJcblxyXG5cclxuLy8gRGUgJ1JFU1QgQ291bnRyaWVzJyBBUEkgd29yZHQgaW5nZWxhZGVuIGluIGhldCBkb2N1bWVudFxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgQ291bnRyeURyb3Bkb3duID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50cnknKTtcclxuXHJcbiAgICBmZXRjaCgnaHR0cHM6Ly9yZXN0Y291bnRyaWVzLmNvbS92Mi9hbGwnKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9KS50aGVuKGNvdW50cmllcyA9PiB7XHJcbiAgICAgICAgbGV0IG91dHB1dCA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIEVyIHdvcmR0IGRvb3IgZWxrIGxhbmQgaW4gZGUgQVBJIGhlZW4gJ2dlbG9vcHQnLCB3YWFybWVlIGVsa2UgbmFhbSB2YW4gaGV0IGxhbmQgdWl0IGhldCBvYmplY3QgZ2VoYWFsZCB3b3JkdCBlbiB3b3JkdCB0b2VnZXZvZWdkIGFhbiBlZW4gb3V0cHV0IHZhcmlhYmVsZVxyXG4gICAgICAgIGNvdW50cmllcy5mb3JFYWNoKGNvdW50cnkgPT4ge1xyXG4gICAgICAgICAgICBvdXRwdXQgKz0gYDxvcHRpb24+JHtjb3VudHJ5Lm5hbWV9PC9vcHRpb24+YDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBWZXJ2b2xnZW5zIHdvcmR0IGRlemUgb3V0cHV0IHRvZWdldm9lZ2QgYWFuIGhldCBzZWxlY3QgZWxlbWVudCwgd2Vsa2UgZWVyZGVyIHVpdCBkZSBFSlMgcGFnaW5hIGlzIG9wZ2VoYWFsZFxyXG4gICAgICAgIENvdW50cnlEcm9wZG93bi5pbm5lckhUTUwgPSBvdXRwdXQ7XHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIC8vIEJpaiBzcHJha2UgdmFuIGVlbiBlcnJvciB3b3JkdCBkZXplIGVycm9yIG5hYXIgZGUgY29uc29sZSBnZWxvZ2RcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxufSk7XHJcbi8vIEJyb24gZ2VicnVpa3Q6IGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9aXc0bHZaR0J1dkEmYWJfY2hhbm5lbD1Pc3RvbkNvZGVDeXBoZXIiLCJjb25zdCBodW1hbnNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtaHVtYW5cIik7XHJcbmNvbnN0IGFuaW1hbHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtYW5pbWFsXCIpO1xyXG5cclxuLy8gRGUgZnVuY3RpZSB2YW4gaGV0IG1lbnNlbGlqa2UgcHJvZmllbCB3b3JkdCB1aXRnZXZvZXJkIGJpaiBoZXQgb3BzdGFydGVuIHZhbiBkZSBwYWdpbmEsIGFhbmdlemllbiBkZXplIGxhdGVuIHppZW4gbW9ldCB3b3JkZW5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChlKSA9PiB7XHJcbiAgICBIdW1hblByb2ZpbGUoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxufSwgZmFsc2UpO1xyXG5cclxuLy8gQmlqIGhldCBrbGlra2VuIHZhbiBkZSAnaHVtYW4nIGtub3Agd29yZHQgZGUgYmlqYmVob3JlbmRlIGZ1bmN0aWUgdWl0Z2V2b2VyZFxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmh1bWFuYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgSHVtYW5Qcm9maWxlKCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbn0sIGZhbHNlKTtcclxuXHJcbi8vIEJpaiBoZXQga2xpa2tlbiB2YW4gZGUgJ2h1bWFuJyBrbm9wIHdvcmR0IGRlIGJpamJlaG9yZW5kZSBmdW5jdGllIHVpdGdldm9lcmRcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hbmltYWxidXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBBbmltYWxQcm9maWxlKCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbn0sIGZhbHNlKTtcclxuXHJcbi8vIEJpbm5lbiBkZXplIGZ1bmN0aWUgd29yZHQgaGV0IG1lbnNlbGlqa2UgcHJvZmllbCB3ZWVyZ2VnZXZlbiBlbiB3b3JkdCBoZXQgZGllcmVuIHByb2ZpZWwgdmVyYm9yZ2VuIGRvb3IgZGUgZGlzcGxheS1zdHlsZSBuYWFyIG5vbmUgdGUgdmVyYW5kZXJlblxyXG5mdW5jdGlvbiBIdW1hblByb2ZpbGUoKSB7XHJcbiAgICBodW1hbnNlY3Rpb24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGFuaW1hbHNlY3Rpb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5odW1hbmJ1dHRvbiA+IGltZ1wiKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlYnV0dG9uXCIpO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hbmltYWxidXR0b24gPiBpbWdcIikuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZWJ1dHRvblwiKTtcclxufVxyXG5cclxuLy8gSGllciBnZWJldXJ0IGRpdCBvb2ssIG1hYXIgZGFuIHZpY2UgdmVyc2FcclxuZnVuY3Rpb24gQW5pbWFsUHJvZmlsZSgpIHtcclxuICAgIGh1bWFuc2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBhbmltYWxzZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFuaW1hbGJ1dHRvbiA+IGltZ1wiKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlYnV0dG9uXCIpO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5odW1hbmJ1dHRvbiA+IGltZ1wiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlYnV0dG9uXCIpO1xyXG59XHJcblxyXG4vLyBFciB3b3JkdCBnZWNoZWNrdCB3ZWxrIGxhbmQgZG9vciBkZSBnZWJydWlrZXIgZ2VzZWxlY3RlZXJkIGlzIGJpaiBoZXQgbWFrZW4gdmFuIGhldCBwcm9maWVsLCBlbiBkZXplIHdvcmR0IG9wZ2VzbGFnZW4gaW4gZGUgbG9jYWxTdG9yYWdlXHJcbmNvbnN0IHNlbGVjdGVkQ291bnRyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1odW1hbiBwOmZpcnN0LW9mLXR5cGVcIikuaW5uZXJUZXh0O1xyXG5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNlbGVjdGVkQ291bnRyeVwiLCBzZWxlY3RlZENvdW50cnkpO1xyXG5cclxuXHJcbi8vIERlIHVsIHdvcmR0IGluIGVlbiB2YXJpYWJlbGUgb3BnZXNsYWdlbiwgdmVydm9sZ2VucyB3b3JkZW4gZGUgY2hpbGRyZW4gYmlubmVuIGRlemUgdWwgaW4gZWVuIGFuZGVyZSB2YXJpYWJlbGUgb3BnZXNsYWdlbiAoZHVzIGRlIGxpc3QgaXRlbXMpXHJcbmNvbnN0IHVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWh1bWFuIHVsXCIpO1xyXG5jb25zdCBjaGlsZHJlbiA9IHVsLmNoaWxkcmVuO1xyXG5sZXQgaW50ZXJlc3RhcnJheSA9IFtdO1xyXG5cclxuLy8gQWxsZSBsaXN0IGl0ZW1zIHdvcmRlbiB0ZW4gZWVyc3RlIGluIGVlbiBhcnJheSBnZXBsYWF0c3QsIGVuIHZlcnZvbGdlbnMgd29yZHQgZG9vciBlbGsgaXRlbSBoZWVuZ2Vsb29wdCwgZW4gZGV6ZSB3b3JkZW4gZWVuIHZvb3Igw6nDqW4gbmFhclxyXG4vLyBkZSBlZXJkZXIgZ2VkZWZpbmllZXJkZSBhcnJheSBnZXB1c2h0XHJcbkFycmF5LmZyb20oY2hpbGRyZW4pLmZvckVhY2gobGkgPT4ge1xyXG4gICAgaW50ZXJlc3RhcnJheS5wdXNoKGxpLmlubmVyVGV4dCk7XHJcbn0pO1xyXG4vLyBCcm9uIGdlYnJ1aWt0OiBodHRwczovL2F0dGFjb21zaWFuLmNvbS9ibG9nL2phdmFzY3JpcHQtZG9tLWdldC1hbGwtY2hpbGQtbm9kZXMtb2YtYW4tZWxlbWVudCM6fjp0ZXh0PVRvJTIwZ2V0JTIwYWxsJTIwY2hpbGQlMjBub2RlcywwKSUyMHRvJTIwYWNjZXNzJTIwaW5kaXZpZHVhbCUyMG5vZGVzLlxyXG5cclxuLy8gVmVydm9sZ2VucyB3b3JkdCBkZXplIGFycmF5IG1ldCBhbGxlIGdlc2VsZWN0ZWVyZGUgbGlzdCBpdGVtcyBpbiBkZSBsb2NhbFN0b3JhZ2Ugb3BnZXNsYWdlbiwgem9kYXQgZGV6ZSBpbiBlZW4gYW5kZXIgSmF2YVNjcmlwdCBiZXN0YW5kIG9wZ2VoYWFsZCBrYW4gd29yZGVuXHJcbmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibXlBcnJheVwiLCBKU09OLnN0cmluZ2lmeShpbnRlcmVzdGFycmF5KSk7XHJcbi8vIEJyb24gZ2VicnVpa3Q6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL25yb2phczEzLzY4Yjc5ZTIxZDBjODFhYTIyYWQ3NjJjOWE0ZGIzOGQwXHJcblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZpbGVwYWdlXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7Il19